### Registro de Usuario
# Probado y funcionando
POST http://localhost:3000/api/users/register
Content-Type: application/json

{
    "email": "nicoabgv4@email.com",
    "password": "12345678"
}

### Validación del Email
# Probado y funcionando
PUT http://localhost:3000/api/users/validate-email
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWUzYzQ1ODZjOGI1NTg0OGE3MGE4ZSIsImlhdCI6MTc0MzY2NjI0NSwiZXhwIjoxNzQzNjY5ODQ1fQ.KwulyPnDVd09w8TCLYAuXJLXkgNbR-eqoQkuE-7Ufps

{
    "code": "456592"
}

### Login de Usuario
# Probado y funcionando
POST http://localhost:3000/api/users/login
Content-Type: application/json

{
    "email": "nicoabgv@email.com",
    "password": "12345678"
}

### Onboarding (Datos Personales)
# Probado y funcionando
PUT http://localhost:3000/api/users/onboarding/personal-info
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWVhNjVjNTUwZjgxZjY3OTczNDIzYyIsImlhdCI6MTc0MzY5MzQzMiwiZXhwIjoxNzQzNjk3MDMyfQ.XCZyrg6ovzIRIpPsb9yzkdtSU7ETk122Dyefu65R9l4

{
    "name": "Nico",
    "lastName": "Prueba",
    "nif": "12345678X"
}

### Onboarding (Datos de la Compañía)
# Probado y funcionando
PUT http://localhost:3000/api/users/onboarding/company-info
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWVhNjVjNTUwZjgxZjY3OTczNDIzYyIsImlhdCI6MTc0MzY5NDA0OSwiZXhwIjoxNzQzNjk3NjQ5fQ.AjoFno-U7zsCn0o34gpINjObROzPP5Ydk8mWYpCfPXo

{
    "name": "Compañia de Ejemplo",
    "cif": "B12345678",
    "address": "Calle Ejemplo 13"
}

### Subida de Logo en Local
# Probado y funcionando
POST http://localhost:3000/api/storage/local
Content-Type: multipart/form-data; boundary=boundary123

--boundary123
Content-Disposition: form-data; name="image"; filename="logo.png"
Content-Type: image/png

< ./full_logo_blc.png
--boundary123--

### Obtener Perfil del Usuario
GET http://localhost:3000/api/users/profile
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWVhNjVjNTUwZjgxZjY3OTczNDIzYyIsImlhdCI6MTc0MzY5NDA0OSwiZXhwIjoxNzQzNjk3NjQ5fQ.AjoFno-U7zsCn0o34gpINjObROzPP5Ydk8mWYpCfPXo

### Eliminar Usuario (Hard Delete)
DELETE http://localhost:3000/api/users/delete?type=hard
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWUzYzQ1ODZjOGI1NTg0OGE3MGE4ZSIsImlhdCI6MTc0MzY5MzIyMSwiZXhwIjoxNzQzNjk2ODIxfQ.21e2rl2qKx76aQEn3pnTCfJMAjzwdimyWjq2v4qitz4

### Eliminar Usuario (Soft Delete)
DELETE http://localhost:3000/api/users/delete?type=soft
Authorization: Bearer <token>

### Solicitar recuperación de contraseña
# Probado y funcionando
POST http://localhost:3000/api/users/request-password-reset
Content-Type: application/json

{
    "email": "nico2@email.com"
}

### Restablecer contraseña
# Probado y funcionando
POST http://localhost:3000/api/users/reset-password
Content-Type: application/json

{
    "email": "nico2@email.com",
    "code": "626940",
    "password": "nuevaContraseña123"
}

### Invitar a un compañero
# Probado y funcionando
POST http://localhost:3000/api/users/invite
Content-Type: application/json
Authorization: Bearer <token>

{
    "email": "nuevo-invitado@email.com"
}

### Registro del invitado
# Probado y funcionando
POST http://localhost:3000/api/users/register-invited
Content-Type: application/json

{
    "token": "<token de invitación>",
    "password": "passwordSeguro123"
}

################################################################################
# Endpoints de Clientes
################################################################################

### Crear Cliente
POST http://localhost:3000/api/clients
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWVhNjVjNTUwZjgxZjY3OTczNDIzYyIsImlhdCI6MTc0MzY5NDA0OSwiZXhwIjoxNzQzNjk3NjQ5fQ.AjoFno-U7zsCn0o34gpINjObROzPP5Ydk8mWYpCfPXo

{
  "name": "Clientes Ejemplo",
  "nif": "12345678B",
  "email": "clienteA@email.com",
  "phone": "612345678",
  "address": "Calle Cliente 2"
}

### Obtener todos los Clientes
GET http://localhost:3000/api/clients
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWVhNjVjNTUwZjgxZjY3OTczNDIzYyIsImlhdCI6MTc0MzY5MzQzMiwiZXhwIjoxNzQzNjk3MDMyfQ.XCZyrg6ovzIRIpPsb9yzkdtSU7ETk122Dyefu65R9l4

### Soft Delete Cliente
DELETE http://localhost:3000/api/clients/67eea04b02d65eb84661d00c
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWVhNjVjNTUwZjgxZjY3OTczNDIzYyIsImlhdCI6MTc0MzY5MzQzMiwiZXhwIjoxNzQzNjk3MDMyfQ.XCZyrg6ovzIRIpPsb9yzkdtSU7ETk122Dyefu65R9l4

### Restaurar Cliente
PATCH http://localhost:3000/api/clients/67eea6df550f81f679734257/recover
Authorization: Bearer <token>

### Hard Delete Cliente
DELETE http://localhost:3000/api/clients/67eea6df55GIT_AUTHOR_DATE="2025-05-01T12:00:00" GIT_COMMITTER_DATE="2025-05-01T12:00:00" git commit -am "test: añadir endpoint de restaurar cliente"0f81f679734257?type=hard
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWVhNjVjNTUwZjgxZjY3OTczNDIzYyIsImlhdCI6MTc0MzY5MzQzMiwiZXhwIjoxNzQzNjk3MDMyfQ.XCZyrg6ovzIRIpPsb9yzkdtSU7ETk122Dyefu65R9l4

################################################################################
# Endpoints de Proyectos
################################################################################

### Crear Proyecto
POST http://localhost:3000/api/projects
Content-Type: application/json
Authorization: Bearer  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWVhNjVjNTUwZjgxZjY3OTczNDIzYyIsImlhdCI6MTc0MzY5MzQzMiwiZXhwIjoxNzQzNjk3MDMyfQ.XCZyrg6ovzIRIpPsb9yzkdtSU7ETk122Dyefu65R9l4

{
  "name": "Proyecto Prueba",
  "description": "Proyecto para Nico de prueba",
  "client": "67eea6df550f81f679734257"
}

### Obtener proyecto por ID
GET http://localhost:3000/api/projects/67eea6f9550f81f67973425b
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWVhNjVjNTUwZjgxZjY3OTczNDIzYyIsImlhdCI6MTc0MzY5MzQzMiwiZXhwIjoxNzQzNjk3MDMyfQ.XCZyrg6ovzIRIpPsb9yzkdtSU7ETk122Dyefu65R9l4

### Obtener todos los Proyectos
GET http://localhost:3000/api/projects
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWVhNjVjNTUwZjgxZjY3OTczNDIzYyIsImlhdCI6MTc0MzY5MzQzMiwiZXhwIjoxNzQzNjk3MDMyfQ.XCZyrg6ovzIRIpPsb9yzkdtSU7ETk122Dyefu65R9l4


### Actualizar Proyecto
PUT http://localhost:3000/api/projects/67eea6f9550f81f67973425b
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWVhNjVjNTUwZjgxZjY3OTczNDIzYyIsImlhdCI6MTc0MzY5MzQzMiwiZXhwIjoxNzQzNjk3MDMyfQ.XCZyrg6ovzIRIpPsb9yzkdtSU7ETk122Dyefu65R9l4

{
  "name": "Proyecto Actualizado",
  "description": "Descripción nueva",
  "client": "67eea6df550f81f679734257"
}

###Soft Delete Proyecto
DELETE http://localhost:3000/api/projects/<ID_DEL_PROYECTO>
Authorization: Bearer <token>

### Hard Delete Proyecto
DELETE http://localhost:3000/api/projects/67eea6f9550f81f67973425b?type=hard
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWVhNjVjNTUwZjgxZjY3OTczNDIzYyIsImlhdCI6MTc0MzY5MzQzMiwiZXhwIjoxNzQzNjk3MDMyfQ.XCZyrg6ovzIRIpPsb9yzkdtSU7ETk122Dyefu65R9l4

### Ver archivados
GET http://localhost:3000/api/projects/archived
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWVhNjVjNTUwZjgxZjY3OTczNDIzYyIsImlhdCI6MTc0MzY5MzQzMiwiZXhwIjoxNzQzNjk3MDMyfQ.XCZyrg6ovzIRIpPsb9yzkdtSU7ETk122Dyefu65R9l4


### PATCH http://localhost:3000/api/projects/<ID_DEL_PROYECTO>/recover
PATCH http://localhost:3000/api/projects/67eea6f9550f81f67973425b/recover
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWVhNjVjNTUwZjgxZjY3OTczNDIzYyIsImlhdCI6MTc0MzY5MzQzMiwiZXhwIjoxNzQzNjk3MDMyfQ.XCZyrg6ovzIRIpPsb9yzkdtSU7ETk122Dyefu65R9l4


################################################################################
# Endpoints de Albaranes
################################################################################

### Crear Albarán (horas)
POST http://localhost:3000/api/delivery-notes
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWUzYzQ1ODZjOGI1NTg0OGE3MGE4ZSIsImlhdCI6MTc0MzY2NjI0NSwiZXhwIjoxNzQzNjY5ODQ1fQ.KwulyPnDVd09w8TCLYAuXJLXkgNbR-eqoQkuE-7Ufps

{
  "type": "hours",
  "project": "67ee3d7a8e2dc2a6a722a108",
  "persons": [
    { "name": "Técnico 1", "hours": 5 },
    { "name": "Técnico 2", "hours": 3 }
  ]
}

### Crear Albarán (materiales)
POST http://localhost:3000/api/delivery-notes
Content-Type: application/json
Authorization: Bearer <token>

{
  "type": "materials",
  "project": "<ID_DEL_PROYECTO>",
  "materials": [
    { "name": "Cemento", "quantity": 10 },
    { "name": "Ladrillos", "quantity": 200 }
  ]
}


### Crear Albarán (mixto)
POST http://localhost:3000/api/delivery-notes
Content-Type: application/json
Authorization: Bearer <token>

{
  "type": "mixed",
  "project": "<ID_DEL_PROYECTO>",
  "persons": [
    { "name": "Técnico 1", "hours": 4 }
  ],
  "materials": [
    { "name": "Hormigón", "quantity": 5 }
  ]
}

### Obtener todos los Albaranes
GET http://localhost:3000/api/delivery-notes
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWUzYzQ1ODZjOGI1NTg0OGE3MGE4ZSIsImlhdCI6MTc0MzY2NjI0NSwiZXhwIjoxNzQzNjY5ODQ1fQ.KwulyPnDVd09w8TCLYAuXJLXkgNbR-eqoQkuE-7Ufps

### Obtener un Albarán por ID
GET http://localhost:3000/api/delivery-notes/67ee3e3c8e2dc2a6a722a117
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWUzYzQ1ODZjOGI1NTg0OGE3MGE4ZSIsImlhdCI6MTc0MzY2NjI0NSwiZXhwIjoxNzQzNjY5ODQ1fQ.KwulyPnDVd09w8TCLYAuXJLXkgNbR-eqoQkuE-7Ufps

### Borrar un Albarán (solo si no está firmado)
DELETE http://localhost:3000/api/delivery-notes/<id_del_albarán>
Authorization: Bearer <token>

### Firmar un albarán (subir imagen)
PATCH http://localhost:3000/api/delivery-notes/67ee3e3c8e2dc2a6a722a117/sign
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWUzYzQ1ODZjOGI1NTg0OGE3MGE4ZSIsImlhdCI6MTc0MzY2NjI0NSwiZXhwIjoxNzQzNjY5ODQ1fQ.KwulyPnDVd09w8TCLYAuXJLXkgNbR-eqoQkuE-7Ufps
Content-Type: multipart/form-data; boundary=boundary123

--boundary123
Content-Disposition: form-data; name="signature"; filename="firma.png"
Content-Type: image/png

< ./firma.png
--boundary123--

### Descargar PDF de un Albarán
GET http://localhost:3000/api/delivery-notes/pdf/67ee3e3c8e2dc2a6a722a117
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWUzYzQ1ODZjOGI1NTg0OGE3MGE4ZSIsImlhdCI6MTc0MzY2NjI0NSwiZXhwIjoxNzQzNjY5ODQ1fQ.KwulyPnDVd09w8TCLYAuXJLXkgNbR-eqoQkuE-7Ufps